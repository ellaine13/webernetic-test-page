"use strict";const app={pathToLibsFiles:"./assets/libs"};window.app=app,[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(item=>{item.hasOwnProperty("before")||Object.defineProperty(item,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var argArr=Array.prototype.slice.call(arguments);const docFrag=document.createDocumentFragment();argArr.forEach(argItem=>{var isNode=argItem instanceof Node;docFrag.appendChild(isNode?argItem:document.createTextNode(String(argItem)))}),this.parentNode.insertBefore(docFrag,this)}})}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(let i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)}),app.modalHandlers={name:"modalHandlers",description:"Modal window events handling",init(){this.modalSwitcherHandlers()},modalSwitcherHandlers(){const modal=document.querySelector(".modal"),overlay=document.querySelector(".modal-overlay");var openModalBtn=document.querySelector(".js-modal-open"),closeModalBtn=document.querySelector(".js-modal-close");function closeModal(){modal.classList.add("hidden"),overlay.classList.add("hidden")}closeModalBtn.addEventListener("click",closeModal),overlay.addEventListener("click",closeModal),document.addEventListener("keydown",e=>{"Escape"!==e.key||modal.classList.contains("hidden")||closeModal()});openModalBtn.addEventListener("click",function(){modal.classList.remove("hidden"),overlay.classList.remove("hidden")})}},app.addLibs={name:"addLibs",description:"connect the script library dynamically",addScriptFile(nameFile,callback){var body=document.getElementsByTagName("body")[0],script=document.createElement("script");script.onload=()=>callback&&callback(),script.src=app.pathToLibsFiles+`/js/${nameFile}.js`,body.appendChild(script)},addStyleFile(nameFile){var appCss=document.getElementById("app-css"),link=document.createElement("link");link.rel="stylesheet",link.href=app.pathToLibsFiles+`/css/${nameFile}.css`,appCss.before(link)},initScript(nameFile,nameLib,callback){let hasLibs=null;if(document.querySelectorAll("script").forEach(el=>{el=el.getAttribute("src");el&&0<=el.indexOf(nameFile)&&(hasLibs=!0)}),hasLibs){const timerId=setInterval(()=>{(window[nameLib]||window.jQuery&&jQuery()[nameLib])&&(callback(),clearInterval(timerId))},1)}else this.addScriptFile(nameFile,callback)},initStyle(nameFile){let hasLibs=null;document.querySelectorAll("link").forEach(el=>{el=el.getAttribute("src");el&&0<=el.indexOf(nameFile)&&(hasLibs=!0)}),hasLibs||this.addStyleFile(nameFile)}},app.modalHandlers.init();